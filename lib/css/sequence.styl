_box-shadow(a, b, c)
  -webkit-box-shadow a b b rgba(0,0,0,c)
  -moz-box-shadow    a b b rgba(0,0,0,c)
  -o-box-shadow      a b b rgba(0,0,0,c)
  box-shadow         a b b rgba(0,0,0,c)

box-shadow()
  _box-shadow(10px, 5px, .33)

border_width = 2px
obj_inner_width  = 88px
obj_inner_height = 31px
obj_hpadding = 4px
obj_vpadding = 0px
obj_outer_width = (border_width + obj_hpadding)*2 + obj_inner_width

primary-border()
  border border_width solid #808080

.sequence-diagram
  font-family Tahoma,Verdana

.sequence-diagram .stop
  position relative

.sequence-diagram .object
  position relative
  width obj_outer_width
  .name
    primary-border()
    text-align center
    padding obj_vpadding obj_hpadding
    min-width obj_inner_width
    height    obj_inner_height
    line-height obj_inner_height
    background-color #fff

.sequence-diagram .object:not(:first-child)
  margin-top -(border_width*2 + obj_inner_height)

.sequence-diagram .lifeline,.sequence-diagram .lifeline .line
  position relative

.sequence-diagram .lifeline .line
  margin-left 50%
  left 1px
  height 100%
  z-index -10
  border-left dashed 1px gray

.sequence-diagram .occurrence
  position: relative
  width: 12px
  padding: 1em 0 1em 0
  margin-top: 4px
  primary-border()
  background-color: lightgray
  z-index: 1

.sequence-diagram .message.create+.occurrence
  padding: .5em 0 .5em 0

.sequence-diagram .interaction
  position: relative

.sequence-diagram .interaction.lost .occurrence.icon
  height: 20px
  width: 20px
  -moz-border-radius: 20px
  -webkit-border-radius: 20px
  -o-border-radius: 20px
  border-radius: 20px
  padding: 0
  margin: 0
  border-color: #999
  background-color: #aaa

.sequence-diagram .interaction.lost .occurrence.icon::before
  content: ''

.sequence-diagram .message,.sequence-diagram .message canvas
  position: absolute

.sequence-diagram .message
  height: 20px

.sequence-diagram .message .name
  margin-top: -10px
  text-align: center

.sequence-diagram .message.lost .icon
  background-color: gray
  border: 1px solid #444

.sequence-diagram .message.create .name::before
  content: '«create»'

.sequence-diagram .message.return
  margin-top: -10px

.sequence-diagram .fragment>.reply
  margin-bottom: .5em

.sequence-diagram .message.return .name::before
  content: '«return»'

.sequence-diagram .message.destroy .name::before
  content: '«destroy»'

.sequence-diagram .fragment
  margin: 4px 4px 8px 4px
  padding: 4px
  border: solid 1px #aaa
  -moz-border-radius: 2px
  -webkit-border-radius: 2px
  -o-border-radius: 2px
  border-radius: 2px

.sequence-diagram .fragment .header .name
  color: #000
  font-weight: 700

.sequence-diagram .fragment .header .condition
  color: #000
  font-weight: 400

.sequence-diagram .fragment.alt>.condition
  color: #000
  font-weight: 400
  margin-bottom: -.5em

.sequence-diagram .fragment.alt div.divider
  border-bottom: 1px dashed #555
  margin: 4px -4px 4px -4px

.sequence-diagram .ref
  position relative
  min-width 128px
  margin 4px
  padding 4px
  padding-bottom 1em
  background-color #fff
  border solid 1px black

.sequence-diagram .ref .tag
  color: #000
  font-weight: 700

.sequence-diagram .ref .name
  text-align: center

.sequence-diagram .object .name,.sequence-diagram .occurrence,.sequence-diagram .ref
  box-shadow()

.sequence-diagram .object
  -text-shadow: 4px 3px 0 #fff,9px 8px 0 rgba(0,0,0,.15)

